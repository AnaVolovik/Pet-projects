/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/js/app.js":
/*!***********************!*\
  !*** ./src/js/app.js ***!
  \***********************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _modules_functions_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./modules/functions.js */ \"./src/js/modules/functions.js\");\n/* harmony import */ var _download_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./download.js */ \"./src/js/download.js\");\n/* harmony import */ var _subscribe_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./subscribe.js */ \"./src/js/subscribe.js\");\n/* harmony import */ var _getAddress_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./getAddress.js */ \"./src/js/getAddress.js\");\n/* harmony import */ var _searchFood_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./searchFood.js */ \"./src/js/searchFood.js\");\n\r\n_modules_functions_js__WEBPACK_IMPORTED_MODULE_0__.isWebp();\r\n\r\n\r\n\r\n\r\n\n\n//# sourceURL=webpack://gulp-2022/./src/js/app.js?");

/***/ }),

/***/ "./src/js/download.js":
/*!****************************!*\
  !*** ./src/js/download.js ***!
  \****************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n// Download\r\n  const googlePlay = document.querySelector('#googlePlay');\r\n  const appStore = document.querySelector('#appStore');\r\n\r\n  googlePlay.addEventListener('click', () => {\r\n    window.open('https://play.google.com/store/apps?hl=en', '_blank');\r\n  });\r\n  \r\n  appStore.addEventListener('click', () => {\r\n    window.open('https://www.apple.com/iphone/', '_blank');\r\n  });\r\n\r\n\r\n\n\n//# sourceURL=webpack://gulp-2022/./src/js/download.js?");

/***/ }),

/***/ "./src/js/getAddress.js":
/*!******************************!*\
  !*** ./src/js/getAddress.js ***!
  \******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\nasync function getSuggestions(query) {\r\n  try {\r\n    const response = await fetch(`https://nominatim.openstreetmap.org/search?q=${encodeURIComponent(query)}&format=json&addressdetails=1&limit=5`);\r\n    if (!response.ok) {\r\n      throw new Error('Network response was not ok');\r\n    }\r\n    const data = await response.json();\r\n    return data;\r\n  } catch (error) {\r\n    console.error('Fetch error:', error);\r\n    return [];\r\n  }\r\n}\r\n\r\nasync function sendForm(formData) {\r\n  try {\r\n    const response = await fetch('/submit-form', {\r\n      method: 'POST',\r\n      body: formData\r\n    });\r\n\r\n    if (!response.ok) {\r\n      if (response.status === 400) {\r\n        const errorData = await response.json();\r\n        throw new Error(errorData.error || 'Unknown error');\r\n      }\r\n      throw new Error('Network response was not ok');\r\n    }\r\n\r\n    if (response.headers.get('Content-Type')?.includes('application/json')) {\r\n      return await response.json();\r\n    } else {\r\n      return {};\r\n    }\r\n  } catch (error) {\r\n    console.error('Fetch error:', error);\r\n    return { error: error.message };\r\n  }\r\n}\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function() {\r\n  const form = document.getElementById('formAddress');\r\n  const input = document.getElementById('addressInput');\r\n  const suggestionBox = document.getElementById('suggestions');\r\n  const searchButton = document.getElementById('searchButton');\r\n  const deliverPoint = document.getElementsByClassName('deliver__point')[0];\r\n  const preloader = document.getElementById('preloader');\r\n\r\n  function showPreloader() {\r\n    preloader.style.display = 'block';\r\n  }\r\n\r\n  function hidePreloader() {\r\n    preloader.style.display = 'none';\r\n  }\r\n\r\n  form.addEventListener('submit', async function(event) {\r\n    event.preventDefault();\r\n\r\n    const formData = new FormData(this);\r\n    \r\n    showPreloader();\r\n\r\n    const result = await sendForm(formData);\r\n\r\n    hidePreloader();\r\n\r\n    setTimeout(hidePreloader, 3000);\r\n\r\n    if (result.error) {\r\n      alert(result.error);\r\n    }\r\n  });\r\n\r\n  input.addEventListener('input', function(event) {\r\n    suggestionBox.style.display = 'block';\r\n  });\r\n\r\n  searchButton.addEventListener('click', async () => {\r\n    const query = input.value;\r\n\r\n    suggestionBox.classList.remove('not-found');\r\n\r\n    if (query.length > 2) {\r\n      suggestionBox.innerHTML = '';\r\n      showPreloader();\r\n\r\n      try {\r\n        const suggestions = await getSuggestions(query);\r\n        suggestionBox.innerHTML = '';\r\n        if (suggestions.length > 0) {\r\n          suggestions.forEach(suggestion => {\r\n            const div = document.createElement('div');\r\n            div.textContent = suggestion.display_name;\r\n            suggestionBox.appendChild(div);\r\n          });\r\n        } else {\r\n          suggestionBox.style.display = 'block';\r\n          suggestionBox.classList.add('not-found');\r\n          suggestionBox.innerHTML = 'Address not found';\r\n        }\r\n\r\n      } catch (error) {\r\n        console.error('Fetch error:', error);\r\n        alert('An error occurred while processing data on the server');\r\n      } finally {\r\n        hidePreloader();\r\n      }\r\n    } else {\r\n      alert('Enter an address longer than 2 characters');\r\n    }\r\n  });\r\n\r\n  suggestionBox.addEventListener('click', function(event) {\r\n    if (event.target.tagName === 'DIV') {\r\n      const selectedAddress = event.target.textContent;\r\n      input.value = selectedAddress;\r\n      suggestionBox.innerHTML = '';\r\n      suggestionBox.style.display = 'none';\r\n      deliverPoint.textContent = selectedAddress;\r\n    }\r\n  });\r\n\r\n  //Toggle class _checked\r\n\r\n  const deliverButton = document.querySelector('.form__button-deliver');\r\n  const pickupButton = document.querySelector('.form__button-pickup');\r\n\r\n  const toggleClass = () => {\r\n    deliverButton.classList.toggle('_checked');\r\n    pickupButton.classList.toggle('_checked');\r\n  };\r\n\r\n  deliverButton.addEventListener('click', (event) => {\r\n    event.preventDefault();\r\n    if (!deliverButton.classList.contains('_checked')) {\r\n      toggleClass();\r\n    }\r\n  });\r\n\r\n  pickupButton.addEventListener('click', (event) => {\r\n    event.preventDefault();\r\n    if (!pickupButton.classList.contains('_checked')) {\r\n      toggleClass();\r\n    }\r\n  });\r\n});\r\n\n\n//# sourceURL=webpack://gulp-2022/./src/js/getAddress.js?");

/***/ }),

/***/ "./src/js/modules/functions.js":
/*!*************************************!*\
  !*** ./src/js/modules/functions.js ***!
  \*************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isWebp: () => (/* binding */ isWebp)\n/* harmony export */ });\n// Проверка поддержки webp, добавление класса webp или no-webp для HTML\r\nfunction isWebp() {\r\n  //Проверка поддержки webp\r\n  function testWebP(callback) {\r\n    let webP = new Image();\r\n    webP.onload = webP.onerror = function() {\r\n      callback(webP.height == 2);\r\n    };\r\n    webP.src = \"data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA\";\r\n  }\r\n  //Добавление класса _webp или _no-webp для HTML\r\n  testWebP(function(support) {\r\n    let className = support === true ? 'webp' : 'no-webp';\r\n    document.documentElement.classList.add(className);\r\n  });\r\n}\n\n//# sourceURL=webpack://gulp-2022/./src/js/modules/functions.js?");

/***/ }),

/***/ "./src/js/searchFood.js":
/*!******************************!*\
  !*** ./src/js/searchFood.js ***!
  \******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  fetch('/get-food-data')\r\n    .then(response => response.json())\r\n    .then(data => generateFoodItems(data));\r\n});\r\n\r\nconst viewAllLink = document.getElementById('viewAllLink');\r\nconst searchfoodBox = document.getElementById('searchFoodBox');\r\nconst foodlist = document.getElementById('foodlist');\r\n\r\n// Show/hide food list\r\nlet foodListVisible = false;\r\n\r\nviewAllLink.addEventListener('click', (event) => {\r\n  event.preventDefault();\r\n\r\n  if (!foodListVisible) {\r\n    searchfoodBox.style.display = 'none';\r\n    foodlist.style.display = 'flex';\r\n    viewAllLink.innerHTML = `\r\n      <span class=\"link__text\">Show categories</span>\r\n      <span class=\"link__icon\">\r\n        <svg width=\"9\" height=\"13\" viewBox=\"0 0 9 13\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n          <path d=\"M7.91797 7.21484C8.16406 6.96875 8.16406 6.55859 7.91797 6.3125L2.61328 0.980469C2.33984 0.734375 1.92969 0.734375 1.68359 0.980469L1.05469 1.60938C0.808594 1.85547 0.808594 2.26562 1.05469 2.53906L5.26562 6.75L1.05469 10.9883C0.808594 11.2617 0.808594 11.6719 1.05469 11.918L1.68359 12.5469C1.92969 12.793 2.33984 12.793 2.61328 12.5469L7.91797 7.21484Z\" fill=\"#FFB30E\"/>\r\n        </svg>\r\n      </span>\r\n    `;\r\n  } else {\r\n    searchfoodBox.style.display = 'flex';\r\n    foodlist.style.display = 'none';\r\n    viewAllLink.innerHTML = `\r\n      <span class=\"link__text\">View All</span>\r\n      <span class=\"link__icon\">\r\n        <svg width=\"9\" height=\"13\" viewBox=\"0 0 9 13\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n          <path d=\"M7.91797 7.21484C8.16406 6.96875 8.16406 6.55859 7.91797 6.3125L2.61328 0.980469C2.33984 0.734375 1.92969 0.734375 1.68359 0.980469L1.05469 1.60938C0.808594 1.85547 0.808594 2.26562 1.05469 2.53906L5.26562 6.75L1.05469 10.9883C0.808594 11.2617 0.808594 11.6719 1.05469 11.918L1.68359 12.5469C1.92969 12.793 2.33984 12.793 2.61328 12.5469L7.91797 7.21484Z\" fill=\"#FFB30E\"/>\r\n        </svg>\r\n      </span>\r\n    `;\r\n  }\r\n\r\n  foodListVisible = !foodListVisible;\r\n});\r\n\r\n// Generate food list\r\nfunction generateFoodItems(data) {\r\n  const categories = {};\r\n\r\n  data.forEach(item => {\r\n    if (!categories[item.category]) {\r\n      categories[item.category] = [];\r\n    }\r\n    categories[item.category].push(item);\r\n  });\r\n\r\n  for (const category in categories) {\r\n    if (categories.hasOwnProperty(category)) {\r\n      const categoryWrapper = document.createElement('div');\r\n      categoryWrapper.classList.add('foodlist__category');\r\n\r\n      const title = document.createElement('h2');\r\n      title.classList.add('h2', 'foodlist__title');\r\n      title.textContent = category;\r\n      categoryWrapper.appendChild(title);\r\n\r\n      const itemsContainer = document.createElement('div');\r\n      itemsContainer.classList.add('foodlist__items');\r\n\r\n      categories[category].forEach(foodItem => {\r\n        const foodElement = document.createElement('div');\r\n        foodElement.classList.add('foodlist__item', 'item');\r\n        foodElement.id = foodItem.id;\r\n\r\n        foodElement.innerHTML = `\r\n        <div class=\"item__image\">\r\n          <img src=\"${foodItem.image_url}\" alt=\"${foodItem.name}\">\r\n        </div>\r\n        <p class=\"item__title\">${foodItem.name}</p>\r\n        <p class=\"item__point\">\r\n          <span class=\"item__point-icon\">\r\n            <svg width=\"14\" height=\"19\" viewBox=\"0 0 14 19\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n              <path d=\"M6.04688 17.8984C0.914062 10.5156 0 9.74219 0 7C0 3.27344 2.98828 0.25 6.75 0.25C10.4766 0.25 13.5 3.27344 13.5 7C13.5 9.74219 12.5508 10.5156 7.41797 17.8984C7.10156 18.3906 6.36328 18.3906 6.04688 17.8984ZM6.75 9.8125C8.29688 9.8125 9.5625 8.58203 9.5625 7C9.5625 5.45312 8.29688 4.1875 6.75 4.1875C5.16797 4.1875 3.9375 5.45312 3.9375 7C3.9375 8.58203 5.16797 9.8125 6.75 9.8125Z\" fill=\"#FFB30E\"/>\r\n            </svg>\r\n          </span>\r\n          <span class=\"item__point-text\">${foodItem.point}</span>\r\n        </p>\r\n        <p class=\"item__price\">${foodItem.price}</p>\r\n        <button class=\"item__button button\">\r\n          <span class=\"button__text\">Order Now</span>\r\n        </button>\r\n      `;\r\n\r\n        itemsContainer.appendChild(foodElement);\r\n      });\r\n\r\n      categoryWrapper.appendChild(itemsContainer);\r\n\r\n      foodlist.appendChild(categoryWrapper);\r\n    }\r\n  }\r\n}\r\n\r\n// Search-input in TOP section\r\ndocument.getElementById('searchFood').addEventListener('focus', function() {\r\n  if (window.innerWidth >= 768) {\r\n    this.classList.add('expanded');\r\n  }\r\n});\r\n\r\ndocument.getElementById('searchFood').addEventListener('blur', function() {\r\n  if (window.innerWidth >= 768) {\r\n    this.classList.remove('expanded');\r\n  }\r\n});\n\n//# sourceURL=webpack://gulp-2022/./src/js/searchFood.js?");

/***/ }),

/***/ "./src/js/subscribe.js":
/*!*****************************!*\
  !*** ./src/js/subscribe.js ***!
  \*****************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n// Subscribe\r\n\r\nconst subscribeForm = document.getElementById('subscribeForm');\r\nconst subscribeInput = document.getElementById('subscribeInput');\r\nconst emailRe = /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(\\.[a-zA-Z]{2,})+$/;\r\n\r\nfunction validateEmail(value) {\r\n  return emailRe.test(value);\r\n}\r\n\r\nfunction updateInput() {\r\n  if (validateEmail(subscribeInput.value)) {\r\n    subscribeInput.style.color = '#9cda9c';\r\n  } else {\r\n    subscribeInput.style.color = '#dc7a7a';\r\n    return false;\r\n  }\r\n}\r\n\r\nsubscribeInput.addEventListener('input', updateInput);\n\n//# sourceURL=webpack://gulp-2022/./src/js/subscribe.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/js/app.js");
/******/ 	
/******/ })()
;